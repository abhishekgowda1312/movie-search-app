{"version":3,"sources":["components/Search.js","components/Result.js","components/Results.js","components/Popup.js","components/Favorite.js","components/Favorites.js","App.js","reportWebVitals.js","index.js"],"names":["Search","handleInput","search","onSelect","type","placeholder","className","onChange","onClick","Result","result","openPopup","toggleFavAction","alt","src","Poster","imdbID","Title","Year","Results","results","map","Popup","selected","closePopup","imdbRating","Plot","Favorite","Favorites","favorites","id","length","App","initialFav","JSON","parse","window","localStorage","getItem","useState","s","state","setState","apiUrl","useEffect","setItem","stringify","axios","then","data","found","find","element","undefined","prevState","index","filter","a","document","getElementById","style","display","openFavorite","e","target","value","alert","catch","err","select","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"8QAiBeA,MAff,YAAoD,IAAlCC,EAAiC,EAAjCA,YAAaC,EAAoB,EAApBA,OAAQC,EAAY,EAAZA,SACnC,OACI,oCACI,uBAAOC,KAAK,OAAOC,YAAY,wBAAwBC,UAAU,YAAYC,SAAUN,IACvF,yBAAQK,UAAU,YAAYC,SAAUJ,EAAxC,UACI,2BACA,2CACA,4CACA,iDAEJ,wBAAQG,UAAU,SAASE,QAASN,EAApC,wBCCGO,MAXf,YAAyD,IAAvCC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,UAAWC,EAAmB,EAAnBA,gBAEjC,OACI,sBAAKN,UAAU,SAAf,UACI,qBAAKO,IAAI,SAASC,IAAKJ,EAAOK,OAAQP,QAAS,kBAAMG,EAAUD,EAAOM,WACtE,+BAAKN,EAAOO,MAAZ,IAAmB,wBAAQb,KAAK,SAASI,QAAS,kBAAMI,EAAgBF,EAAOM,SAA5D,oBACnB,gDAAmBN,EAAOQ,YCIvBC,MATf,YAA4D,IAAxCC,EAAuC,EAAvCA,QAAST,EAA8B,EAA9BA,UAAWC,EAAmB,EAAnBA,gBAEpC,OACI,yBAASN,UAAU,UAAnB,SACIc,EAAQC,KAAI,SAAAX,GAAM,OAAI,cAAC,EAAD,CAA4BA,OAAQA,EAAQC,UAAWA,EAAWC,gBAAiBA,GAAtEF,EAAOM,cCWvCM,MAhBf,YAA0C,IAAxBC,EAAuB,EAAvBA,SAAUC,EAAa,EAAbA,WACxB,OACI,yBAASlB,UAAU,QAAnB,SACI,sBAAKA,UAAU,UAAf,UACI,+BAAKiB,EAASN,MAAd,IAAqB,+BAAOM,EAASL,UACrC,oBAAGZ,UAAU,SAAb,qBAA+BiB,EAASE,cAC5C,sBAAKnB,UAAU,OAAf,UACI,qBAAKO,IAAI,MAAMC,IAAKS,EAASR,SAC7B,4BAAIQ,EAASG,UAEjB,wBAAQpB,UAAU,QAAQE,QAASgB,EAAnC,yBCAGG,MAVf,YAAyD,IAArCjB,EAAoC,EAApCA,OAAOC,EAA6B,EAA7BA,UAAWC,EAAkB,EAAlBA,gBAClC,OACI,sBAAKN,UAAU,SAAf,UACA,qBAAKO,IAAI,SAASC,IAAKJ,EAAOK,OAAQP,QAAS,kBAAMG,EAAUD,EAAOM,WACtE,+BAAKN,EAAOO,MAAZ,IAAmB,wBAAQb,KAAK,SAASI,QAAS,kBAAMI,EAAgBF,EAAOM,SAA5D,oBACnB,gDAAmBN,EAAOQ,YCSnBU,MAZf,YAAgE,IAA1CC,EAAyC,EAAzCA,UAAWlB,EAA8B,EAA9BA,UAAWC,EAAmB,EAAnBA,gBAExC,OACI,sBAAKkB,GAAG,QAAQxB,UAAU,OAA1B,UACMuB,EAAUE,OAAS,EAAI,sBAAMzB,UAAU,OAAhB,uBAAyC,KAClE,yBAASA,UAAU,UAAnB,SACAuB,EAAUR,KAAI,SAAAX,GAAM,OAAI,cAAC,EAAD,CAA8BA,OAAQA,EAAQC,UAAWA,EAAWC,gBAAiBA,GAAtEF,EAAOM,iBCqI3CgB,MAvIf,WAEE,IAAMC,EAAaC,KAAKC,MAAMC,OAAOC,aAAaC,QAAQ,cAAgB,MAF7D,EAGYC,mBAAS,CAChCC,EAAG,GACHpC,KAAM,GACNgB,QAAS,GACTG,SAAU,GACVM,UAAWI,IARA,mBAGNQ,EAHM,KAGAC,EAHA,KAUPC,EAAS,0CAGfC,qBAAU,WACRR,OAAOC,aAAaQ,QAAQ,YAAaX,KAAKY,UAAUL,EAAMZ,cAC7D,CAACY,EAAMZ,YAIV,IAsCMjB,EAAkB,SAAAkB,GACtBiB,IAAMJ,EAAS,MAAOb,GAAIkB,MAAK,YAAY,IACrC5B,EADoC,EAAT6B,KAGzBC,EAAQT,EAAMZ,UAAUsB,MAAK,SAAAC,GAAO,OAAIA,EAAQpC,SAAWI,EAAQJ,UAEzE,QAAaqC,IAAVH,EACDR,GAAS,SAAAY,GACH,OAAO,2BAAIA,GAAX,IAAsBzB,UAAU,GAAD,mBAAMY,EAAMZ,WAAZ,CAAuBT,aAGzD,CACH,IACImC,EADK,YAAOd,EAAMZ,WACJ2B,QAAQ,SAAAJ,GAAO,OAC/BA,EAAQpC,SAAWI,EAAQJ,WAGd,IAAXkC,GAEFR,GAAS,SAAAY,GACP,OAAO,2BAAIA,GAAX,IAAsBzB,UAAW0B,YAQrC5C,EAAY,SAAAmB,GAChBiB,IAAMJ,EAAS,MAAOb,GAAIkB,MAAK,YAAY,IACrC5B,EADoC,EAAT6B,KAG/BP,GAAS,SAAAY,GACL,OAAO,2BAAIA,GAAX,IAAsB/B,SAAUH,WAuBxC,OAEE,gCACE,gCACE,wCACA,sBAAMZ,QAAS,kBAtBA,WACnB,IAAIiD,EAAIC,SAASC,eAAe,SACR,SAApBF,EAAEG,MAAMC,QACVJ,EAAEG,MAAMC,QAAU,QAElBJ,EAAEG,MAAMC,QAAU,OAiBKC,IAArB,0BAEF,cAAC,EAAD,CAAWjC,UAAWY,EAAMZ,UAAWlB,UAAWA,EAAWC,gBAAiBA,IAC9E,uBACA,mCACE,gDAEA,cAAC,EAAD,CAAQX,YA1GM,SAAC8D,GACnB,IAAIvB,EAAIuB,EAAEC,OAAOC,MAEjBvB,GAAS,SAAAY,GACP,kCAAUA,GAAV,IAAoBd,EAAEA,QAsGctC,OAxFzB,WACd6C,IAAMJ,EAAS,MAAOF,EAAMD,EAAG,SAAUC,EAAMrC,MAAM4C,MAAK,YAAY,IAC9D5B,EAD6D,EAAT6B,KACrCjD,YAGJqD,IAAZjC,EACHsB,GAAS,SAAAY,GACL,OAAO,2BAAIA,GAAX,IAAsBlC,QAASA,OAGlC8C,MAAM,iCAIPC,OAAM,SAAAC,QA0E6CjE,SAjGvC,SAAC4D,GAChB,IAAIM,EAASN,EAAEC,OAAOC,MAEtBvB,GAAS,SAAAY,GACP,OAAO,2BAAIA,GAAX,IAAsBlD,KAAMiE,UA+F1B,cAAC,EAAD,CAASjD,QAASqB,EAAMrB,QAAST,UAAWA,EAAWC,gBAAiBA,IACtC,oBAAxB6B,EAAMlB,SAASN,OAAuB,cAAC,EAAD,CAAOM,SAAUkB,EAAMlB,SAAUC,WArBpE,WACjBkB,GAAS,SAAAY,GACP,kCAAWA,GAAX,IAAsB/B,SAAU,kBCzGvB+C,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBxB,MAAK,YAAkD,IAA/CyB,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFtB,SAASC,eAAe,SAM1BW,M","file":"static/js/main.f4a506ba.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nfunction Search( {handleInput, search, onSelect} ) {\r\n    return (\r\n        <section>\r\n            <input type=\"text\" placeholder=\"Search for a movie...\" className=\"searchBox\" onChange={handleInput}/>\r\n            <select className=\"selectBox\" onChange={onSelect}>\r\n                <option></option>\r\n                <option>movie</option>\r\n                <option>series</option>\r\n                <option>episodes</option>\r\n            </select>\r\n            <button className=\"search\" onClick={search}>Search</button>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Search\r\n","import React from 'react'\r\n\r\nfunction Result( {result, openPopup, toggleFavAction} ) {\r\n\r\n    return (\r\n        <div className=\"result\">\r\n            <img alt=\"imageH\" src={result.Poster} onClick={() => openPopup(result.imdbID)}/>\r\n            <h3>{result.Title} <button type=\"button\" onClick={() => toggleFavAction(result.imdbID)}>fav</button></h3>\r\n            <h6>Release date: {result.Year}</h6>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Result\r\n","import React from 'react'\r\nimport Result from './Result'\r\n\r\nfunction Results( { results, openPopup, toggleFavAction} ) {\r\n    \r\n    return (\r\n        <section className=\"results\">\r\n           {results.map(result => <Result key={result.imdbID} result={result} openPopup={openPopup} toggleFavAction={toggleFavAction}/>)}\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Results\r\n","import React from 'react'\r\n\r\nfunction Popup( { selected, closePopup}) {\r\n    return (\r\n        <section className=\"popup\">\r\n            <div className=\"content\">\r\n                <h2>{selected.Title} <span>{selected.Year}</span></h2>\r\n                <p className=\"rating\">Rating: {selected.imdbRating}</p>\r\n            <div className=\"plot\">\r\n                <img alt=\"img\" src={selected.Poster}/>\r\n                <p>{selected.Plot}</p>\r\n            </div>\r\n            <button className=\"close\" onClick={closePopup}>Close</button>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Popup\r\n","import React from 'react'\r\n\r\nfunction Favorite( {result,openPopup, toggleFavAction}) {\r\n    return (\r\n        <div className=\"result\">\r\n        <img alt=\"imageH\" src={result.Poster} onClick={() => openPopup(result.imdbID)}/>\r\n        <h3>{result.Title} <button type=\"button\" onClick={() => toggleFavAction(result.imdbID)}>fav</button></h3>\r\n        <h6>Release date: {result.Year}</h6>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Favorite\r\n","import React from 'react'\r\nimport Favorite from './Favorite'\r\n\r\n\r\nfunction Favorites( { favorites, openPopup, toggleFavAction }) {\r\n    \r\n    return (        \r\n        <div id=\"favs1\" className=\"none\">            \r\n            {(favorites.length > 0) ?<span className=\"favs\">Favorites</span>: null }\r\n            <section className=\"results\">\r\n           {favorites.map(result => <Favorite key={result.imdbID} result={result} openPopup={openPopup} toggleFavAction={toggleFavAction}/>)}\r\n        </section>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Favorites\r\n","import './App.css';\nimport { useState , useEffect } from 'react'\nimport axios from 'axios'\nimport Search from './components/Search'\nimport Results from './components/Results'\nimport Popup from './components/Popup'\nimport Favorites from './components/Favorites'\n\nfunction App() {\n  //getting the initial list of favorites from local storage\n  const initialFav = JSON.parse(window.localStorage.getItem('favorites') || \"[]\")\n  const [state,setState] = useState({\n    s: \"\", //search string\n    type: \"\", //genre type\n    results: [], //results with the search string\n    selected: {}, //selected item for detailed view\n    favorites: initialFav //favorites selected\n  })\n  const apiUrl = \"http://www.omdbapi.com/?apikey=15757ea0\"\n  \n  //lifecycle hook\n  useEffect(() => {\n    window.localStorage.setItem('favorites', JSON.stringify(state.favorites)  )\n  }, [state.favorites] )\n\n\n  //to get the input string\n  const handleInput = (e) => {\n    let s = e.target.value\n\n    setState(prevState => {\n      return{...prevState,s:s}\n    })\n  }\n\n  //dropdown select option\n  const onSelect = (e) => {\n    let select = e.target.value\n    \n    setState(prevState => {\n      return {...prevState, type: select}\n    })\n  }  \n  \n  //search with the fields gathered\n  const search = () => {    \n   axios(apiUrl + \"&s=\" +state.s+ \"&type=\" +state.type).then(({data}) =>{         \n       let results = data.Search;\n        \n\n       if(results !== undefined){\n       setState(prevState => {\n           return {...prevState, results: results}\n       })\n      }else{\n        alert('No matching criteria found')\n        \n      }\n\n    }).catch(err => {\n      \n    })    \n   }\n\n  //toggle action for set as fav button\n  const toggleFavAction = id => {\n    axios(apiUrl + \"&i=\" +id).then(({data}) =>{         \n      let results = data;\n      \n      const found = state.favorites.find(element => element.imdbID === results.imdbID)\n      \n      if(found === undefined){\n        setState(prevState => {\n              return {...prevState, favorites: [...state.favorites, results]}\n          })\n      }\n      else {\n        var array = [...state.favorites]\n        var index = array.filter( element => \n          element.imdbID !== results.imdbID\n        )\n        \n        if( found !== -1){\n          \n          setState(prevState => {\n            return {...prevState, favorites: index}\n        })\n        }       \n      }\n   })\n  }\n\n //open a detailed page with the corresponding movie\n  const openPopup = id => {\n    axios(apiUrl + \"&i=\" +id).then(({data}) =>{         \n      let results = data;\n        \n      setState(prevState => {\n          return {...prevState, selected: results}\n      })\n   })\n  }\n\n  //open the list of favorite items\n  const openFavorite = () => {\n    let a = document.getElementById(\"favs1\")\n    if (a.style.display === 'none') {\n      a.style.display = 'block';\n    } else {\n      a.style.display = 'none';\n    }\n    \n  }\n\n  //close detailed popup\n  const closePopup = () => {\n    setState(prevState => {\n      return{ ...prevState, selected: {}}\n    })\n  }\n\n  return (\n  \n    <div>\n      <nav>\n        <span>Home</span>\n        <span onClick={() => openFavorite()}>Favorites</span>      \n      </nav>\n      <Favorites favorites={state.favorites} openPopup={openPopup} toggleFavAction={toggleFavAction}/>\n      <hr/>\n      <header >\n        <h2>Movie Database</h2>\n        {/* create a search component */}\n        <Search handleInput={handleInput} search={search} onSelect={onSelect}/>\n        {/* create a results component */}\n        <Results results={state.results} openPopup={openPopup} toggleFavAction={toggleFavAction} />\n        {( typeof state.selected.Title != \"undefined\")? <Popup selected={state.selected} closePopup={closePopup}/>: false}\n      </header>\n    </div>\n  \n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}