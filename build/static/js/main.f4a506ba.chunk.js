(this["webpackJsonpmovie-search-app"]=this["webpackJsonpmovie-search-app"]||[]).push([[0],{24:function(e,t,n){},25:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n(3),i=n.n(s),a=n(17),r=n.n(a),o=(n(24),n(8)),l=n(1),j=n(18),u=(n(25),n(6)),b=n.n(u);var d=function(e){var t=e.handleInput,n=e.search,s=e.onSelect;return Object(c.jsxs)("section",{children:[Object(c.jsx)("input",{type:"text",placeholder:"Search for a movie...",className:"searchBox",onChange:t}),Object(c.jsxs)("select",{className:"selectBox",onChange:s,children:[Object(c.jsx)("option",{}),Object(c.jsx)("option",{children:"movie"}),Object(c.jsx)("option",{children:"series"}),Object(c.jsx)("option",{children:"episodes"})]}),Object(c.jsx)("button",{className:"search",onClick:n,children:"Search"})]})};var p=function(e){var t=e.result,n=e.openPopup,s=e.toggleFavAction;return Object(c.jsxs)("div",{className:"result",children:[Object(c.jsx)("img",{alt:"imageH",src:t.Poster,onClick:function(){return n(t.imdbID)}}),Object(c.jsxs)("h3",{children:[t.Title," ",Object(c.jsx)("button",{type:"button",onClick:function(){return s(t.imdbID)},children:"fav"})]}),Object(c.jsxs)("h6",{children:["Release date: ",t.Year]})]})};var f=function(e){var t=e.results,n=e.openPopup,s=e.toggleFavAction;return Object(c.jsx)("section",{className:"results",children:t.map((function(e){return Object(c.jsx)(p,{result:e,openPopup:n,toggleFavAction:s},e.imdbID)}))})};var v=function(e){var t=e.selected,n=e.closePopup;return Object(c.jsx)("section",{className:"popup",children:Object(c.jsxs)("div",{className:"content",children:[Object(c.jsxs)("h2",{children:[t.Title," ",Object(c.jsx)("span",{children:t.Year})]}),Object(c.jsxs)("p",{className:"rating",children:["Rating: ",t.imdbRating]}),Object(c.jsxs)("div",{className:"plot",children:[Object(c.jsx)("img",{alt:"img",src:t.Poster}),Object(c.jsx)("p",{children:t.Plot})]}),Object(c.jsx)("button",{className:"close",onClick:n,children:"Close"})]})})};var h=function(e){var t=e.result,n=e.openPopup,s=e.toggleFavAction;return Object(c.jsxs)("div",{className:"result",children:[Object(c.jsx)("img",{alt:"imageH",src:t.Poster,onClick:function(){return n(t.imdbID)}}),Object(c.jsxs)("h3",{children:[t.Title," ",Object(c.jsx)("button",{type:"button",onClick:function(){return s(t.imdbID)},children:"fav"})]}),Object(c.jsxs)("h6",{children:["Release date: ",t.Year]})]})};var O=function(e){var t=e.favorites,n=e.openPopup,s=e.toggleFavAction;return Object(c.jsxs)("div",{id:"favs1",className:"none",children:[t.length>0?Object(c.jsx)("span",{className:"favs",children:"Favorites"}):null,Object(c.jsx)("section",{className:"results",children:t.map((function(e){return Object(c.jsx)(h,{result:e,openPopup:n,toggleFavAction:s},e.imdbID)}))})]})};var x=function(){var e=JSON.parse(window.localStorage.getItem("favorites")||"[]"),t=Object(s.useState)({s:"",type:"",results:[],selected:{},favorites:e}),n=Object(j.a)(t,2),i=n[0],a=n[1],r="http://www.omdbapi.com/?apikey=15757ea0";Object(s.useEffect)((function(){window.localStorage.setItem("favorites",JSON.stringify(i.favorites))}),[i.favorites]);var u=function(e){b()(r+"&i="+e).then((function(e){var t=e.data,n=i.favorites.find((function(e){return e.imdbID===t.imdbID}));if(void 0===n)a((function(e){return Object(l.a)(Object(l.a)({},e),{},{favorites:[].concat(Object(o.a)(i.favorites),[t])})}));else{var c=Object(o.a)(i.favorites).filter((function(e){return e.imdbID!==t.imdbID}));-1!==n&&a((function(e){return Object(l.a)(Object(l.a)({},e),{},{favorites:c})}))}}))},p=function(e){b()(r+"&i="+e).then((function(e){var t=e.data;a((function(e){return Object(l.a)(Object(l.a)({},e),{},{selected:t})}))}))};return Object(c.jsxs)("div",{children:[Object(c.jsxs)("nav",{children:[Object(c.jsx)("span",{children:"Home"}),Object(c.jsx)("span",{onClick:function(){return function(){var e=document.getElementById("favs1");"none"===e.style.display?e.style.display="block":e.style.display="none"}()},children:"Favorites"})]}),Object(c.jsx)(O,{favorites:i.favorites,openPopup:p,toggleFavAction:u}),Object(c.jsx)("hr",{}),Object(c.jsxs)("header",{children:[Object(c.jsx)("h2",{children:"Movie Database"}),Object(c.jsx)(d,{handleInput:function(e){var t=e.target.value;a((function(e){return Object(l.a)(Object(l.a)({},e),{},{s:t})}))},search:function(){b()(r+"&s="+i.s+"&type="+i.type).then((function(e){var t=e.data.Search;void 0!==t?a((function(e){return Object(l.a)(Object(l.a)({},e),{},{results:t})})):alert("No matching criteria found")})).catch((function(e){}))},onSelect:function(e){var t=e.target.value;a((function(e){return Object(l.a)(Object(l.a)({},e),{},{type:t})}))}}),Object(c.jsx)(f,{results:i.results,openPopup:p,toggleFavAction:u}),"undefined"!=typeof i.selected.Title&&Object(c.jsx)(v,{selected:i.selected,closePopup:function(){a((function(e){return Object(l.a)(Object(l.a)({},e),{},{selected:{}})}))}})]})]})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),s(e),i(e),a(e)}))};r.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(x,{})}),document.getElementById("root")),m()}},[[43,1,2]]]);
//# sourceMappingURL=main.f4a506ba.chunk.js.map